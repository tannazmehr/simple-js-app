// eslint-disable-next-line no-undef
let pokemonRepository=function(){let e=[];function t(t){"object"==typeof t&&"name"in t&&"detailsUrl"in t?e.push(t):console.log("This data type is not accepted.")}function n(){return e}function o(){let e=document.createElement("div");e.id="loading-message",e.textContent="Loading, please wait...",document.body.appendChild(e)}function i(){let e=document.getElementById("loading-message");e&&e.remove()}function l(e){return o(),fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){i(),e.imageUrl=t.sprites.front_default,e.height=t.height,e.types="";for(let n=0;n<t.types.length;n++)e.types+=t.types[n].type.name+" "}).catch(function(e){i(),console.error(e)})}function r(e){l(e).then(function(){let t=document.querySelector("#pokemonModalLabel"),n=document.querySelector(".pokemon-height"),o=document.querySelector(".pokemon-types"),i=document.querySelector(".pokemon-image");t.innerText=e.name,i.src=e.imageUrl,n.innerText=`Height: ${e.height}`,o.innerText=`Powers: ${e.types}`;let l=document.getElementById("pokemonModal"),r=new bootstrap.Modal(l);r.show()})}return{add:t,getAll:n,filterItem:function t(n){return e.filter(e=>e.name===n)},addListItem:function e(t){let n=document.querySelector(".list-group"),o=document.createElement("li");o.classList.add("list-group-item");let i=document.createElement("button");i.innerText=t.name,i.classList.add("btn","btn-outline-info","pokemonButton"),i.setAttribute("data-toggle","modal"),i.setAttribute("data-target","#pokemonModal"),i.addEventListener("click",function(){r(t)}),o.appendChild(i),n.appendChild(o)},loadList:function e(){return o(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return e.json()}).then(function(e){i(),e.results.forEach(function(e){t({name:e.name,detailsUrl:e.url})})}).catch(function(e){i(),console.error(e)})},loadDetails:l,showDetails:r}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});